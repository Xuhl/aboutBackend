# 架构设计漫谈
## 复杂性
## 微服务设计原则
### 数据设计原则
### 数据集成规范
### rest api 设计规范
### 领域驱动架构设计
## 云原生设计原则
## 高并发、高可用、高扩展特性
### 高并发的处理
1. http 流量分流
  - 硬件分流：采用 F5 的硬负载、LVS软负载实现负荷分担，横向扩展到多台Ngnix 上
  - 在硬件分流之前，可以通过DNS 按地域访问最近的数据中心，进一步分流处理
  - 通过F5 接入流量之后，F5 横向扩展到不同的Ngnix 服务器上，Ngnix 在将流量符合分担到不同的web 服务器
  - 针对静态资源，可以采用不同域名来做分流。
单机LVS 可以实现几十万的并发，F5 的性能比LVS更高,针对LVS 的单点问题，可以通过`keepAlived`组件解决
在业界落地实现中，又有具体的实现策略。
1. 阿里双11 的流量均衡。通过高性能的流量负载均衡器（依赖DPDK 技术）
2. 微信的红包 通过SET 化部署，实现应用的横向扩展、同时避免锁的使用。该项技术在美团也有使用，[美团点评SET 化部署使用](https://www.infoq.cn/article/edktgbzgi9q13dczo50a)；但该项技术使用成本比较高，可以针对核心功能采用
3. 面向未来的Service Mesh下Istio 负载均衡。后续研究

## 一致性设计


